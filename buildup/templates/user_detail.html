{% extends "base.html" %}

{% block page_title %}
{{ player.username }} | User Detail
{% endblock %}

{% block content %}
<a href="{% url 'leaderboard' %}"> &larr; LEADERBOARDS</a>
<br> <br>

<div class="user-detail-wrap m-b-1">
    <strong class="username">
        {{ player.username }}
            <span class="text-sm-right small text-muted player-last-login"> 
                as of {{ player.last_login }}
            </span>
    </strong>
    <div class="coins">
        Coins: {{ player.pretty_coins }}
    </div>
    <div class="player-building_levels"> 
        Total levels: {{ player.total_building_levels }}
    </div>
    <div class="player-coins-per-sec"> 
        Coins per second: {{ player.cps }}
    </div>
</div>

<div class="buildings_wrap">
    {% for building in buildings %}
    <div class="building m-t-1">
        <span class="small text-muted building-level">
            Lv. {{ building.level }}
        </span>
        <span class="building-name">{{ building.name }}</span>

        <div class="row">
            <div class="building-techs col-md-4">
                {% for tech in building.techs %}
                <div class="building-tech m-l-1">
                    {{ tech.name }} | {{ tech.count }}
                </div>
                {% endfor %}
            </div>

            <div class="building-harvesters col-md-4">
                {% for harvester in building.harvesters %}
                <div class="building-harvester m-l-1">
                    {{ harvester.name }} Harvesters +{{harvester.level}} | {{ harvester.count }}
                </div>
                {% endfor %}
            </div>

            <div class="building-salesmen col-md-4">
                {% for salesman in building.salesmen %}
                <div class="building-salesmen m-l-1">
                    {{ salesman.name }} Salesmen | {{ salesman.count }}
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}
